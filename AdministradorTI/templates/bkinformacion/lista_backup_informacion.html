{% extends '../layout.html' %}
{% block titulo %}Backup Informacion{% endblock  %}
{% block contenido %}
<body>
    <main class="contenedor">
        <div class="contenido__table">
            <h1 class="no-margin">Backup Informacion <span>{{ fecha_hardware }}</span>: </h1>
            <div class="opciones__table marginb-04">
                <div class="opciones__table--boton">
                    <button id="ejecutar_backup">Ejecutar Backup</button>                    
                     <a title="VER LISTA DE IPS FALTANTES" href="{% url 'listar_faltantes_backup' %}">Ver Faltantes</a>
                     <a title="VER LOGS DE LA EJECUCION" href="{% url 'listar_logs' %}">Ver Logs</a>                                        
                </div>                                                     
            </div>
            <table class="table" id="tabla_inventario_h">
                <thead>
                    <tr>
                        <th>IP</th>
                        <th>Nombre Colaborador</th>
                        <th>Detalle</th>                        
                        <th>Fecha Realizado</th>
                        <th>Archivo Errores</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in lista_backup %}
                    <tr>
                        <td>{{ item.codigo_ip.ip }}</td>
                        <td>{{ item.codigo_colaborador.nombre_colaborador }}</td>
                        <td>{{ item.detalle }}</td>
                        <td>{{ item.fecha_modificacion|date:'d-m-Y' }}</td>
                        <td>
                            <a href="{% url 'descargar_logs_errores' pk=item.id %}">
                                <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="32"
                                height="32"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="#000000"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                >
                                <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" />
                                <path d="M9 9l1 0" />
                                <path d="M9 13l6 0" />
                                <path d="M9 17l6 0" />
                                </svg>
                            </a>                        
                            <a href="{% url 'iniciar_backup_individual' pk=item.id%}">
                                <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="32"
                                height="32"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="#015C7B"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                >
                                <path d="M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2" />
                                <path d="M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
                                <path d="M14 4l0 4l-6 0l0 -4" />
                                </svg>
                            </a>
                            <a title="GENERAR BITACORA BACKUP" href="{% url 'descargar_cargo_backup' pk=item.id %}">
                                <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="#41b955"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                >
                                <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2" />
                                <path d="M10 12l4 5" />
                                <path d="M10 17l4 -5" />
                                </svg>
                            </a>                            
                        </td>                        
                    </tr>
                    {% endfor %}                    
                </tbody> 
            </table>
        </div>
        <script>
            const csrftoken = "{{ csrf_token }}";
        </script> 
    </main>        
</body>
{% endblock  %}